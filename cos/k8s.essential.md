---
author: Artem Zhivushko
title: k8s.essential
create: 2024-03-27 01:08:14
tags:
  - ZeroToHero
  - DevSecOps
  - k8s
  - kubernetes
---
![Kubernetes Cheat Sheet](Kubernetes-Cheat-Sheet.png)

# Kubernetes (K8s) — это программная платформа для автоматического управления контейнеризованными приложениями. K8s предлагает механизмы для развертывания, масштабирования и поддержки контейнеров и микросервисов.

![main](k8s.main.png)

## Понятия, описывающие архитектуру и функциональность системы Kubernetes:


![components](k8s.components.png)

![k8s cluster](Pasted%20image%2020240327013653.png)

* **Namespaces** - пространство имен

> Это механизм для изоляции групп ресурсов в пределах одного кластера. Имена ресурсов должны быть уникальными в пределах пространства имен, но не во всех пространствах имен. Определение области действия на основе пространства имен применимо только для объектов с пространством имен (например, развертываний, служб и т.д.), а не для объектов всего кластера (например, StorageClass, Nodes, PersistentVolumes и т.д.).
>
> Зарезервированные имена k8s: `default`, `kube-node-lease`, `kube-public`, `kube-system`

> * **Namespaces and DNS**
>
> > Когда вы создаете службу, она создает соответствующую запись DNS. Эта запись имеет вид `<service-name>.<namespace-name>.svc.cluster.local`, что означает, что если контейнер использует только `<service-name>`, он будет разрешен для службы, которая является локальной для пространства имен. Это полезно для использования одной и той же конфигурации в нескольких пространствах имен, таких как разработка, промежуточный этап и производство. Если вы хотите получить доступ к нескольким пространствам имен, вам необходимо использовать полное доменное имя (FQDN).

- **Кластер**

> Развертывание Kubernetes — это, в первую очередь, поднятие кластера. В кластере обязательно есть хотя бы одна нода. Она состоит из набора машин, которые запускают контейнерные приложения. Обычно на одной ноде кластер не ограничивается, поскольку дополнительные ноды решают проблему отказоустойчивости.

- **Nodes** (узлы / _node.md_) — машины в кластере K8s.

> Это физические или виртуальные машины, на которых развертываются и запускаются контейнеры с приложениями. Каждый узел содержит сервисы, необходимые для запуска подов.
>
> Типы нод:
>
> * Master (мастер-нода) — узел, управляющий всем кластером. Он следит за остальными нодами и распределяет между ними нагрузку с помощью менеджера контроллеров (controller manager) и планировщика (scheduler). Как правило, мастер-нода занимается только управлением и не берет на себя рабочие нагрузки. Для повышения отказоустойчивости существует несколько мастер-нод.
> * Worker (рабочие ноды) — узлы, на которых работают контейнеры. В зависимости от параметров ноды (объема памяти и центрального процессора) на одном узле может работать множество контейнеров. Чем больше рабочих узлов, тем больше приложений можно запустить. Также количество влияет на отказоустойчивость кластера, потому что при выходе из строя одной ноды нагрузка распределяется по оставшимся.
>
> Работающий кластер Kubernetes включает в себя агента, запущенного на нодах (kubelet), и компоненты мастера (APIs, scheduler, etc), поверх решения с распределенным хранилищем.

**Pods** (отсеки | _pods.md_) — группа контейнеров с общими разделами, которые запускаются как одно приложение.

> Pod определяется представлением запроса на запуск (execute) одного или более контейнеров на одном узле. Они разделяют доступ к таким ресурсам, как: тома хранилища и сетевой стек.
>
> Термин «pod» может употребляться и в смысле этого запроса, и в смысле совокупности контейнеров, которые запускаются в ответ на запрос. Далее мы будем использовать слово «pod», когда будем говорить о запросе, а для второго случая — употреблять выражение «набор контейнеров».
>
> Поды считаются базовыми строительными блоками Kubernetes, поскольку все рабочие нагрузки в Kubernetes — например, [Deployments](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/), [ReplicaSets](https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/) и [Jobs](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/) — могут быть выражены в виде pods. Конкретнее об этих понятиях мы поговорим позже.
>
> Pod — это единственный объект в Kubernetes, который приводит к запуску контейнеров. Нет пода — нет контейнера.

- **Replication Controllers** (replication-controller.md) способ репликации, который гарантирует, что определенное количество «реплик» будут запущены в любой момент времени.
- **Services** (services.md) — набор логически объединенных подов и политик доступа.
- **Volumes** (volumes.md) — доступная в контейнере директория с данными или без них.
- **Labels** (labels.md) — пары ключ/значение, которые прикрепляются к объектам. Например, к подам. Labels могут применяться для создания и выбора наборов объектов.
- **Операторы** (operators.md) — программное обеспечения Kubernetes, необходимое для включения в кластер сервисов, сохраняющих состояние между выполнениями (stateful). Например, СУБД.
- **Kubectl** - Command Line Interface (kubectl.md) — интерфейс командной строки для управления Kubernetes.
